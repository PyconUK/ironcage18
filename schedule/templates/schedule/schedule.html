{% extends 'ironcage/base.html' %}
{% load schedule_extras %}

{% block content %}

{% for day, days_sessions in sessions.items %}
  <div class="row">
    <div class="col">
      <h1>{{ day }}</h1>
      <table class="table table-striped table-sm table-responsive schedule-table" style="font-size: 0.75em;">
        <thead>
          <tr>
            <th scope="col"></th>
            {% for stream in days_sessions.streams %}
              <th scope="col">{{ stream.room.name }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for time in days_sessions.times %}
            <tr>
              <th scope="row">{{ time|time:"H:i" }}</th>
              {% for session in days_sessions.matrix|index:forloop.counter0 %}
                  {% if session is None %}
                    <td style="background-color: #333; color: white;"></td>
                  {% elif session.spanned %}
                  {% else %}
                    <td {% if session.break_event %}class="break"{% endif %} colspan="{{ session.colspan }}" rowspan="{{ session.rowspan }}">
                      <p>{{ session.title }}</p>
                      {% if not session.conference_event %}
                      <p><small>{{ session.name }}</small></p>
                      {% endif %}
                    </td>
                  {% endif %}
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

{% endfor %}

{% endblock %}
